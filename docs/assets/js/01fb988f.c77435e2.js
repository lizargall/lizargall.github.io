"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5751],{7212:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var s=t(4848),n=t(8453);const o={sidebar_position:20,title:"MPS CLI Getting Started",description:"The Machine Perceptions Services Command Line Interface is a command line tool used to request and receive Machine Perception Services."},r="Getting Started With the MPS CLI",a={id:"aria_docs/mps/mps_cli_getting_started",title:"MPS CLI Getting Started",description:"The Machine Perceptions Services Command Line Interface is a command line tool used to request and receive Machine Perception Services.",source:"@site/docs/aria_docs/mps/mps_cli_getting_started.mdx",sourceDirName:"aria_docs/mps",slug:"/aria_docs/mps/mps_cli_getting_started",permalink:"/docs/aria_docs/mps/mps_cli_getting_started",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:20,frontMatter:{sidebar_position:20,title:"MPS CLI Getting Started",description:"The Machine Perceptions Services Command Line Interface is a command line tool used to request and receive Machine Perception Services."},sidebar:"tutorialSidebar",previous:{title:"MPS Data Processing",permalink:"/docs/aria_docs/mps/mps_processing"},next:{title:"MPS CLI Guide",permalink:"/docs/aria_docs/mps/mps_cli_guide"}},l={},c=[{value:"Overview",id:"overview",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Install Project Aria Tools",id:"install-project-aria-tools",level:3},{value:"Download the MPS CLI sample dataset",id:"download-the-mps-cli-sample-dataset",level:3},{value:"Request MPS for all VRS files in the \u201cExample\u201d directory and it\u2019s subdirectories:",id:"request-mps-for-all-vrs-files-in-the-example-directory-and-its-subdirectories",level:3},{value:"Exit the MPS CLI",id:"exit-the-mps-cli",level:3},{value:"Multi Sequence MPS Requests",id:"multi-sequence-mps-requests",level:3},{value:"Working with MPS data",id:"working-with-mps-data",level:2}];function d(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h1,{id:"getting-started-with-the-mps-cli",children:"Getting Started With the MPS CLI"}),"\n",(0,s.jsx)(i.admonition,{title:"Writing Sample",type:"info",children:(0,s.jsxs)(i.p,{children:["This page is an archive of technical writing I did for Project Aria. For the most up to date documentation go to ",(0,s.jsx)(i.a,{href:"https://facebookresearch.github.io/projectaria_tools/docs/intro",children:"Project Aria Docs"}),"."]})}),"\n",(0,s.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(i.p,{children:["The Project Aria Machine Perceptions Services Command Line Interface (MPS CLI) is a command line tool used to request and receive ",(0,s.jsx)(i.a,{href:"https://facebookresearch.github.io/projectaria_tools/docs/ARK/mps",children:"Machine Perception Services"}),". While you can use the ",(0,s.jsx)(i.a,{href:"https://facebookresearch.github.io/projectaria_tools/docs/ARK/mps/request_mps/desktop_mps",children:"Desktop Companion app to request MPS"}),", the MPS CLI provides more features and more robust file uploading. This page provides basic information to get you started with the MPS CLI, go to the ",(0,s.jsx)(i.a,{href:"/docs/aria_docs/mps/mps_cli_guide",children:"MPS CLI Guide"})," for more details."]}),"\n",(0,s.jsx)(i.p,{children:"The MPS inputs can be a file or directory, and multiple inputs can be listed in a single command."}),"\n",(0,s.jsx)(i.p,{children:"The MPS CLI has two modes:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Single","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Process each recording individually"}),"\n",(0,s.jsx)(i.li,{children:"Output is always saved next to the input VRS file"}),"\n",(0,s.jsx)(i.li,{children:"The most common way to request MPS"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Multi","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Process multiple recordings to generate multi-sequence SLAM data"}),"\n",(0,s.jsx)(i.li,{children:"User must provide a directory for the outputs"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.admonition,{title:"Non-UI options available",type:"tip",children:(0,s.jsxs)(i.p,{children:["This tutorial uses the the MPS CLI UI, but all processes can also work can without using the UI and can be integrated into automated workflows. Go to the ",(0,s.jsx)(i.a,{href:"/docs/aria_docs/mps/mps_cli_guide#command-line-reference",children:"Command Line Reference"})," in the User Guide for more details."]})}),"\n",(0,s.jsx)(i.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,s.jsx)(i.h3,{id:"install-project-aria-tools",children:"Install Project Aria Tools"}),"\n",(0,s.jsxs)(i.p,{children:["Project Aria MPS CLI is only available if you install the ",(0,s.jsx)(i.a,{href:"https://facebookresearch.github.io/projectaria_tools/docs/data_utilities/installation/installation_python",children:"pip installation version of Project Aria Tools"}),". This installation has been designed to be simple to use, even if you are not familiar with programming languages."]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://facebookresearch.github.io/projectaria_tools/docs/data_utilities/installation/installation_python",children:"Install Project Aria Tools"})}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"To return to your installation of Project Aria Tools at any time, restart the virtual environment using the following command:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"source $HOME/projectaria_tools_python_env/bin/activate\n"})}),"\n",(0,s.jsx)(i.h3,{id:"download-the-mps-cli-sample-dataset",children:"Download the MPS CLI sample dataset"}),"\n",(0,s.jsx)(i.p,{children:"To try out the following commands on VRS files:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Download the sample files:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.a,{href:"https://www.projectaria.com/async/sample/download/?bucket=mps&filename=sample_multi_slam_1.vrs",children:"Sample 1"})," - single VRS file"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.a,{href:"https://www.projectaria.com/async/sample/download/?bucket=mps&filename=sample_multi_slam_2.vrs",children:"Sample 2"})," - single VRS file"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Move them to a directory called Example in your downloads directory"}),"\n"]}),"\n",(0,s.jsx)(i.admonition,{type:"info",children:(0,s.jsx)(i.p,{children:"You may also wish to use your own recordings."})}),"\n",(0,s.jsx)(i.h3,{id:"request-mps-for-all-vrs-files-in-the-example-directory-and-its-subdirectories",children:"Request MPS for all VRS files in the \u201cExample\u201d directory and it\u2019s subdirectories:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"aria_mps single -i ~/Downloads/Example/\n"})}),"\n",(0,s.jsx)(i.p,{children:"You'll be prompted to enter your username and password. Use the Project Aria credentials you use to sign into the Mobile Companion app."}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"MPS CLI UI for single mode",src:t(2901).A+"",width:"2172",height:"1034"})}),"\n",(0,s.jsx)(i.p,{children:"Once the request has been processed, the MPS output will be downloaded next to the original VRS file. In this example, a recording in the Example directory called recording1.vrs was used to generate MPS."}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"    \u2514\u2500\u2500 Example folder\n        \u251c\u2500\u2500 mps_recording1_vrs\n        \u2502   \u251c\u2500\u2500 eye_gaze\n        \u2502   \u2502   \u251c\u2500\u2500 general_eye_gaze.csv\n        \u2502   \u2502   \u2514\u2500\u2500 summary.json\n        \u2502   \u251c\u2500\u2500 slam\n        \u2502   \u2502   \u251c\u2500\u2500 closed_loop_trajectory.csv\n        \u2502   \u2502   \u251c\u2500\u2500 online_calibration.jsonl\n        \u2502   \u2502   \u251c\u2500\u2500 open_loop_trajectory.csv\n        \u2502   \u2502   \u251c\u2500\u2500 semidense_observations.csv.gz\n        \u2502   \u2502   \u251c\u2500\u2500 semidense_points.csv.gz\n        \u2502   \u2502   \u2514\u2500\u2500 summary.json\n        \u2502   \u251c\u2500\u2500 hand_tracking\n        \u2502   \u2502   \u251c\u2500\u2500 wrist_and_palm_poses.csv\n        \u2502   \u2502   \u2514\u2500\u2500 summary.json\n        \u2502   \u251c\u2500\u2500 vrs_health_check.json\n        \u2502   \u2514\u2500\u2500 vrs_health_check_slam.json\n        \u2514\u2500\u2500 recording1.vrs\n"})}),"\n",(0,s.jsxs)(i.p,{children:["Go to ",(0,s.jsx)(i.a,{href:"https://facebookresearch.github.io/projectaria_tools/docs/data_formats/mps/mps_summary",children:"MPS Data Format Basics"})," for more details about the folder structure."]}),"\n",(0,s.jsx)(i.h3,{id:"exit-the-mps-cli",children:"Exit the MPS CLI"}),"\n",(0,s.jsxs)(i.p,{children:["To quit the MPS CLI, press ",(0,s.jsx)(i.code,{children:"CTRL + Q"}),". The CLI will ask for confirmation before quitting."]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"If you quit the request tool while the files are uploading the uploads will stop."}),"\n",(0,s.jsx)(i.li,{children:"If you resubmit the request the uploads will resume where they left off, progress won\u2019t be lost."}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"If you quit the request tool once the files have been uploaded, the MPS processes will continue. Once processing is complete, and the request tool is open, MPS files will be automatically downloaded to your VRS files\u2019 location."}),"\n",(0,s.jsx)(i.h3,{id:"multi-sequence-mps-requests",children:"Multi Sequence MPS Requests"}),"\n",(0,s.jsxs)(i.p,{children:["When you request MPS using ",(0,s.jsx)(i.code,{children:"multi"})," mode, MPS will process a group of recordings together to generate Multi-SLAM MPS. ",(0,s.jsx)(i.a,{href:"https://facebookresearch.github.io/projectaria_tools/docs/data_formats/mps/slam/mps_multi_slam",children:"Multi-SLAM MPS"})," creates SLAM MPS outputs in a shared co-ordinate frame. Once the request has been processed, the MPS output will be downloaded to the directory you defined."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"aria_mps multi -i ~/Downloads/Example/ -o ~/Documents/multi_slam_output\n"})}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"MPS CLU UI for single mode",src:t(8706).A+"",width:"2186",height:"1098"})}),"\n",(0,s.jsx)(i.h2,{id:"working-with-mps-data",children:"Working with MPS data"}),"\n",(0,s.jsx)(i.p,{children:"You may find the following resources helpful when working with MPS data:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://facebookresearch.github.io/projectaria_tools/docs/data_formats/mps/mps_summary",children:"MPS Data Formats"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://facebookresearch.github.io/projectaria_tools/docs/data_utilities/visualization/visualization_python",children:"Visualize MPS Using Python"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://facebookresearch.github.io/projectaria_tools/docs/data_utilities/visualization/visualization_cpp",children:"Visualize MPS Using C++"})}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8706:(e,i,t)=>{t.d(i,{A:()=>s});const s=t.p+"assets/images/mps_cli_ui_multi-a43800444b57753f41baa60097a68b1b.png"},2901:(e,i,t)=>{t.d(i,{A:()=>s});const s=t.p+"assets/images/mps_cli_ui_single-dc99c169a7136f49d7659b8df65e2e39.png"},8453:(e,i,t)=>{t.d(i,{R:()=>r,x:()=>a});var s=t(6540);const n={},o=s.createContext(n);function r(e){const i=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),s.createElement(o.Provider,{value:i},e.children)}}}]);